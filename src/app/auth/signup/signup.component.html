<div class="main d-flex align-items-center justify-content-center">
    <div class="row w-100">
        <div class="col-12 col-sm-10 col-md-8 col-lg-5 mx-auto">
            <form [formGroup]="signupForm" (ngSubmit)="signupFormSubmit()" class="center-box shadow br-6 px-3 px-md-5 py-3 py-xl-4 ">
                <div class="header fs-4 fs-md-3 w-100 text-center fw-bold">Signup</div>

                <div class="field-container d-flex flex-column">
                    <input formControlName="email" type="email" placeholder="Enter Email" class="textfield mt-2 mt-lg-3">

                    <!-- Error message for Email field -->
                    <div class="validationError"
                        *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.invalid">
                        <div *ngIf="signupForm.get('email')?.errors?.['required']">Email is required</div>
                        <div
                            *ngIf="signupForm.get('email')?.errors?.['email'] || signupForm.get('email')?.errors?.['pattern']">
                            ">Email is not valid</div>
                    </div>

                    <div class="password-container">
                        <input formControlName="password" [type]="!showPassword ? 'text' : 'password'"
                            autocomplete="off" placeholder="Enter Password" class="textfield mt-2 mt-lg-3 w-100">

                        <i class="fa fa-eye password-icon" *ngIf="showPassword && signupForm.get('password')?.value"
                            (click)="handlePasswordIcon()"></i>
                        <i class="fa fa-eye-slash password-icon"
                            *ngIf="!showPassword && signupForm.get('password')?.value"
                            (click)="handlePasswordIcon()"></i>
                    </div>

                    <!-- Error message for Password field -->
                    <div class="validationError"
                        *ngIf="signupForm.get('password')?.touched && signupForm?.get('password')?.invalid">
                        <div *ngIf="signupForm.get('password')?.errors?.['required']">Password is required</div>
                        <div *ngIf="signupForm.get('password')?.errors?.['pattern']">Password must have at least 1
                            letter, 1
                            digit, 1 special character and be 8+ characters long</div>
                    </div>

                    <div class="password-container">
                        <input formControlName="confirmPassword" [type]="!showConfirmPassword ? 'text' : 'password'"
                            autocomplete="off" placeholder="Enter Confirm Password" class="textfield mt-2 mt-lg-3 w-100">

                        <i class="fa fa-eye password-icon" *ngIf="showConfirmPassword  && signupForm.get('confirmPassword')?.value"
                            (click)="handleConfirmPasswordIcon()"></i>
                        <i class="fa fa-eye-slash password-icon" *ngIf="!showConfirmPassword  && signupForm.get('confirmPassword')?.value"
                            (click)="handleConfirmPasswordIcon()"></i>
                    </div>
                    <div class="validationError" *ngIf="signupForm.get('confirmPassword')?.touched">
                        <div *ngIf="signupForm.get('confirmPassword')?.errors?.['required']">Confirm Password is required</div>
                        <div *ngIf="signupForm.get('confirmPassword')?.value != signupForm.get('password')?.value && !signupForm.get('confirmPassword')?.errors?.['required']">
                            Password and Confirm Password is mismatch</div>
                    </div>

                </div>

                <div class="d-flex justify-content-center mt-3 mt-xl-4">
                    <button type="submit" [disabled]="!signupForm.valid" class="primary-button"
                        [ngClass]="{'invalid-button' : !signupForm.valid}">Submit</button>
                </div>

                <div class="mt-2 mt-lg-3 text-center text-lg-end">
                    <div>Already have account. <span (click)="loginClicked()" class="logintext">Login here</span></div>
                </div>
            </form>
        </div>
    </div>
</div>